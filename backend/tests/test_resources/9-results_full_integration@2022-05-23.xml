<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="1" failures="0" skipped="1" tests="82" time="6241.952" timestamp="2022-05-23T02:10:16.216991" hostname="runner-brnxxjxm-project-12501706-concurrent-0"><testcase classname="tests.test_access.TestAccess" name="test_ok" file="tests/test_access.py" line="170" time="272.729" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_double_update_rofs" file="tests/test_basic_integration.py" line="371" time="466.400" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_update_failover_server" file="tests/test_basic_integration.py" line="309" time="364.363" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_update_jwt_expired" file="tests/test_basic_integration.py" line="382" time="535.247" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_failed_updated_and_valid_update" file="tests/test_basic_integration.py" line="390" time="757.567" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_update_no_compression" file="tests/test_basic_integration.py" line="398" time="238.724" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_forced_update_check_from_client" file="tests/test_basic_integration.py" line="405" time="239.306" /><testcase classname="tests.test_basic_integration.TestBasicIntegrationOpenSource" name="test_forced_inventory_update_from_client" file="tests/test_basic_integration.py" line="412" time="173.286" /><testcase classname="tests.test_bootstrapping.TestBootstrappingOpenSource" name="test_reject_bootstrap" file="tests/test_bootstrapping.py" line="115" time="348.459" /><testcase classname="tests.test_configuration.TestConfiguration" name="test_configuration" file="tests/test_configuration.py" line="42" time="461.909" /><testcase classname="tests.test_db_migration.TestDBMigrationOpenSource" name="test_migrate_from_legacy_mender_v1_success" file="tests/test_db_migration.py" line="185" time="358.795" /><testcase classname="tests.test_bootstrapping.TestBootstrappingOpenSource" name="test_bootstrap" file="tests/test_bootstrapping.py" line="111" time="207.977" /><testcase classname="tests.test_deployment_aborting.TestDeploymentAbortingOpenSource" name="test_deployment_abortion_instantly" file="tests/test_deployment_aborting.py" line="85" time="271.293" /><testcase classname="tests.test_deployment_aborting.TestDeploymentAbortingOpenSource" name="test_deployment_abortion_rebooting" file="tests/test_deployment_aborting.py" line="99" time="199.733" /><testcase classname="tests.test_db_migration.TestDBMigrationOpenSource" name="test_migrate_from_legacy_mender_v1_failure" file="tests/test_db_migration.py" line="178" time="567.546" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_deployed_during_network_outage" file="tests/test_fault_tolerance.py" line="392" time="278.581" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_image_download_retry_timeout[test_set0]" file="tests/test_fault_tolerance.py" line="400" time="364.236" /><testcase classname="tests.test_filetransfer.TestFileTransfer" name="test_filetransfer_limits_upload" file="tests/test_filetransfer.py" line="668" time="382.297" /><testcase classname="tests.test_deployment_aborting.TestDeploymentAbortingOpenSource" name="test_deployment_abortion_downloading" file="tests/test_deployment_aborting.py" line="91" time="228.944" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_image_download_retry_timeout[test_set1]" file="tests/test_fault_tolerance.py" line="400" time="394.935" /><testcase classname="tests.test_image_update_failures.TestFailuresOpenSource" name="test_large_update_image" file="tests/test_image_update_failures.py" line="92" time="166.630" /><testcase classname="tests.test_filetransfer.TestFileTransfer" name="test_filetransfer_limits_download" file="tests/test_filetransfer.py" line="677" time="301.930" /><testcase classname="tests.test_inventory.TestInventoryOpenSource" name="test_inventory" file="tests/test_inventory.py" line="274" time="135.466" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_image_download_retry_hosts_broken" file="tests/test_fault_tolerance.py" line="414" time="365.898" /><testcase classname="tests.test_inventory.TestInventoryOpenSource" name="test_inventory_update_after_successful_deployment" file="tests/test_inventory.py" line="278" time="135.106" /><testcase classname="tests.test_filetransfer_cli.TestFileTransferCLI" name="test_filetransfer_cli" file="tests/test_filetransfer_cli.py" line="189" time="161.828" /><testcase classname="tests.test_keepalive.TestMenderClientKeepAlive" name="test_keepalive_idle_connections" file="tests/test_keepalive.py" line="126" time="232.400" /><testcase classname="tests.test_grouping.TestGroupingOpenSource" name="test_basic_groups" file="tests/test_grouping.py" line="176" time="204.661" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_rootfs_conf_missing_from_new_update" file="tests/test_fault_tolerance.py" line="422" time="266.260" /><testcase classname="tests.test_keepalive.TestMenderClientKeepAlive" name="test_keepalive_disable" file="tests/test_keepalive.py" line="156" time="264.981" /><testcase classname="tests.test_grouping.TestGroupingOpenSource" name="test_update_device_group" file="tests/test_grouping.py" line="179" time="513.457" /><testcase classname="tests.test_filetransfer.TestFileTransfer" name="test_filetransfer" file="tests/test_filetransfer.py" line="635" time="139.720" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_bogus_proto_message" file="tests/test_mender_connect.py" line="260" time="102.873" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_regular_protocol_commands" file="tests/test_mender_connect.py" line="44" time="14.258" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_dbus_reconnect" file="tests/test_mender_connect.py" line="115" time="24.836" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_websocket_reconnect" file="tests/test_mender_connect.py" line="145" time="29.867" /><testcase classname="tests.test_filetransfer.TestFileTransfer" name="test_filetransfer_not_implemented" file="tests/test_filetransfer.py" line="658" time="176.533" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal_1_0" name="test_websocket_reconnect" file="tests/test_mender_connect.py" line="145" time="160.606" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal_1_0" name="test_bogus_shell_message" file="tests/test_mender_connect.py" line="164" time="5.190" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_bogus_shell_message" file="tests/test_mender_connect.py" line="164" time="104.468" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal_1_0" name="test_session_recording" file="tests/test_mender_connect.py" line="181" time="49.801" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal" name="test_session_recording" file="tests/test_mender_connect.py" line="181" time="32.351" /><testcase classname="tests.test_image_update_failures.TestFailuresOpenSource" name="test_update_image_id_already_installed" file="tests/test_image_update_failures.py" line="84" time="211.161" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_update_one" file="tests/test_mender_gateway.py" line="456" time="241.332" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal_1_0" name="test_regular_protocol_commands" file="tests/test_mender_connect.py" line="44" time="212.176" /><testcase classname="tests.test_mender_connect.TestRemoteTerminal_1_0" name="test_dbus_reconnect" file="tests/test_mender_connect.py" line="115" time="33.945" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_one_device" file="tests/test_mender_gateway.py" line="421" time="237.745" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_parallel_updates_one_failure" file="tests/test_mender_gateway.py" line="478" time="136.080"><skipped type="pytest.skip" message="Disabled due to MEN-5567.">/builds/Northern.tech/Mender/integration/tests/tests/test_mender_gateway.py:263: Disabled due to MEN-5567.</skipped></testcase><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_parallel_updates" file="tests/test_mender_gateway.py" line="467" time="487.465" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_parallel_updates_one_aborted" file="tests/test_mender_gateway.py" line="489" time="725.986" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_gateway_and_one_device" file="tests/test_mender_gateway.py" line="432" time="798.001" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_parallel_updates_multiple_deployments" file="tests/test_mender_gateway.py" line="500" time="788.607" /><testcase classname="tests.test_preauth.TestPreauth" name="test_ok_preauth_and_bootstrap" file="tests/test_preauth.py" line="157" time="206.037" /><testcase classname="tests.test_mender_gateway.TestMenderGatewayOpenSource" name="test_deployment_two_devices_update_both" file="tests/test_mender_gateway.py" line="445" time="412.062" /><testcase classname="tests.test_preauth.TestPreauth" name="test_ok_preauth_and_remove" file="tests/test_preauth.py" line="160" time="129.432" /><testcase classname="tests.test_remote_terminal.TestRemoteTerminalOpenSource" name="test_portforward" file="tests/test_remote_terminal.py" line="77" time="212.843" /><testcase classname="tests.test_portforward.TestPortForwardOpenSource" name="test_portforward" file="tests/test_portforward.py" line="167" time="307.016" /><testcase classname="tests.test_security.TestSecurityOpenSource" name="test_ssl_only" file="tests/test_security.py" line="59" time="74.380" /><testcase classname="tests.test_preauth.TestPreauth" name="test_fail_preauth_existing" file="tests/test_preauth.py" line="163" time="78.179" /><testcase classname="tests.test_signed_image_update.TestSignedUpdatesOpenSource" name="test_signed_artifact_success" file="tests/test_signed_image_update.py" line="74" time="517.209" /><testcase classname="tests.test_signed_image_update.TestSignedUpdatesOpenSource" name="test_unsigned_artifact_fails_deployment[force_new]" file="tests/test_signed_image_update.py" line="81" time="222.242" /><testcase classname="tests.test_compat.TestClientCompatibilityOpenSource" name="test_compatibility" file="tests/test_compat.py" line="310" time="4596.181"><error message="failed on setup with &quot;RuntimeError: Could not successfully run command after 3600 seconds on host 172.29.0.26: true&quot;">request = &lt;SubRequest 'setup_os_compat' for &lt;Function test_compatibility&gt;&gt;

    @pytest.fixture(scope="function")
    def setup_os_compat(request):
        env = container_factory.getCompatibilitySetup()
        request.addfinalizer(env.teardown)
        env.setup()
    
        env.user = create_user(
            "test@mender.io", "correcthorse", containers_namespace=env.name
        )
        env.populate_clients()
    
        clients = env.get_mender_clients()
        assert len(clients) &gt; 0, "Failed to setup clients"
        env.devices = []
        for client in clients:
            dev = MenderDevice(client)
&gt;           dev.ssh_is_opened()

tests/test_compat.py:55: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../testutils/infra/device.py:113: in ssh_is_opened
    self.run("true", hide=True, wait=wait)
../testutils/infra/device.py:94: in run
    return _run(self._conn, cmd, **kw).stdout
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

conn = &lt;Connection host=172.29.0.26 port=8822&gt;, cmd = 'true'
kw = {'hide': True, 'warn': True}, wait = 3600, result = None
start_time = 1653272922.1115289, sleeptime = 4096

    def _run(conn, cmd, **kw):
        if kw.get("wait") is not None:
            wait = kw["wait"]
            del kw["wait"]
        else:
            wait = _DEFAULT_WAIT_TIME
    
        result = None
        start_time = time.time()
        sleeptime = 1
        while time.time() &lt; start_time + wait:
            # Back off exponentially to save SSH handshakes in QEMU, which
            # are quite expensive.
            time.sleep(sleeptime)
            sleeptime *= 2
    
            try:
                result = conn.run(cmd, **kw)
                break
            except NoValidConnectionsError as e:
                logger.info("Could not connect to host %s: %s", conn.host, str(e))
                continue
            except SSHException as e:
                logger.info(
                    "Got SSH exception while connecting to host %s: %s", conn.host, str(e)
                )
                if not (
                    "Connection reset by peer" in str(e)
                    or "Error reading SSH protocol banner" in str(e)
                    or "No existing session" in str(e)
                ):
                    raise e
                continue
            except OSError as e:
                # The OSError is happening while there is no QEMU instance initialized
                logger.info(
                    "Got OSError exception while connecting to host %s: %s",
                    conn.host,
                    str(e),
                )
                if "Cannot assign requested address" not in str(e):
                    raise e
                continue
            except UnexpectedExit as e:
                # Many tests rely on the old behaviour of "keep trying until it passes", so
                # they run commands that may return non 0 for a while
                logger.info(
                    "Got UnexpectedExit while executing command in host %s: %s",
                    conn.host,
                    str(e),
                )
                continue
            except Exception as e:
                logger.exception(
                    "Generic exception happened while connecting to host %s", conn.host
                )
                raise e
        else:
&gt;           raise RuntimeError(
                "Could not successfully run command after %d seconds on host %s: %s"
                % (wait, conn.host, cmd)
            )
E           RuntimeError: Could not successfully run command after 3600 seconds on host 172.29.0.26: true

../testutils/infra/device.py:402: RuntimeError</error></testcase><testcase classname="tests.test_demo_artifact.TestDemoArtifact" name="test_demo_artifact" file="tests/test_demo_artifact.py" line="105" time="662.829" /><testcase classname="tests.test_security.TestSecurityOpenSource" name="test_token_token_expiration" file="tests/test_security.py" line="115" time="286.871" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_reboot_recovery[simulate_powerloss_in_commit_enter-test_set1]" file="tests/test_state_scripts.py" line="934" time="349.054" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_reboot_recovery[simulate_powerloss_in_artifact_commit_leave-test_set2]" file="tests/test_state_scripts.py" line="934" time="223.522" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Normal_success-test_set0]" file="tests/test_state_scripts.py" line="947" time="33.468" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Sync_Enter_script-test_set3]" file="tests/test_state_scripts.py" line="947" time="27.741" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Idle_Enter_script-test_set1]" file="tests/test_state_scripts.py" line="947" time="35.555" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_reboot_recovery[simulate_powerloss_artifact_install_enter-test_set0]" file="tests/test_state_scripts.py" line="934" time="213.712" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Sync_Leave_script-test_set4]" file="tests/test_state_scripts.py" line="947" time="27.845" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Download_Enter_script-test_set5]" file="tests/test_state_scripts.py" line="947" time="56.255" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Download_Leave_script-test_set6]" file="tests/test_state_scripts.py" line="947" time="32.176" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_Idle_Leave_script-test_set2]" file="tests/test_state_scripts.py" line="947" time="33.405" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_ArtifactCommit_Enter_script-test_set8]" file="tests/test_state_scripts.py" line="947" time="34.381" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_ArtifactInstall_Enter_script-test_set7]" file="tests/test_state_scripts.py" line="947" time="33.539" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Failure_in_ArtifactCommit_Leave_script-test_set9]" file="tests/test_state_scripts.py" line="947" time="39.085" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Corrupted_script_version_in_data-test_set10]" file="tests/test_state_scripts.py" line="947" time="83.521" /><testcase classname="tests.test_state_scripts.TestStateScriptsOpenSource" name="test_state_scripts[Corrupted_script_version_in_etc-test_set11]" file="tests/test_state_scripts.py" line="947" time="144.778" /><testcase classname="tests.test_update_modules.TestUpdateModulesOpenSource" name="test_rootfs_image_rejected" file="tests/test_update_modules.py" line="106" time="205.193" /><testcase classname="tests.test_update_modules.TestUpdateModulesOpenSource" name="test_rootfs_update_module_success" file="tests/test_update_modules.py" line="112" time="180.744" /><testcase classname="tests.test_fault_tolerance.TestFaultToleranceOpenSource" name="test_update_image_breaks_networking" file="tests/test_fault_tolerance.py" line="381" time="274.892" /></testsuite></testsuites>